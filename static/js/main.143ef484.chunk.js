(this.webpackJsonptsp=this.webpackJsonptsp||[]).push([[0],{204:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(79),l=n.n(r),c=(n(91),n.p,n(92),n(6)),s=n(206),o=n(207),h=n(208),u=n(52),d=n(51),p=n.n(d),f=n(84),x=n(85),j=function(t,e){for(var n,a,i,r,l=0,c=0;c<e.path.length-1;c++){var s=t[e.path[c]],o=t[e.path[c+1]];l+=(n=s.x,a=s.y,i=o.x,r=o.y,Math.sqrt(Math.pow(n-i,2)+Math.pow(a-r,2)))}return l};function g(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),a=t[e];t[e]=t[n],t[n]=a}return t}var b=function(t,e,n){for(var a=[],i=0;i<t;i++){var r={path:g(Array.from({length:e-1},(function(t,e){return e+1}))),fitness:0};r.path.unshift(0),r.path.push(0),r.fitness=j(n,r),a.push(Object(x.a)({},r))}return a},O=function(t,e){for(var n=[],a=(t=g(t)).length,i=0;i<a/2;i++){var r=t[i],l=t[a-i-1],c=r.path.length,s=new Array(r.path.length).fill(-1),o=g(Array.from({length:c-2},(function(t,e){return e+1})));(o=o.slice(o.length/2)).sort();for(var h=Array(c).fill(!1),u=1;u<o.length;u++)s[o[u]]=r.path[o[u]],h[r.path[o[u]]]=!0;for(var d=0,p=0;p<c-1;)-1===s[p]?(h[l.path[d]]||(s[p]=l.path[d],p++),d++):p++;s[c-1]=0;var f={path:s,fitness:0};f.fitness=j(e,f),n.push(f)}return n},v=function(t,e){for(var n=[],a=t.length,i=0;i<a;i++)n.push({path:Object(f.a)(t[i].path),fitness:0});for(var r=0;r<a;r++){var l=n[r].path.length,c=Math.floor(Math.random()*(l-3))+1,s=Math.floor(Math.random()*(l-3))+1,o=n[r].path[c];n[r].path[c]=n[r].path[s],n[r].path[s]=o,n[r].fitness=j(e,n[r])}return n},y=p.a.mark((function t(e,n,a,i){var r,l,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=b(i,e,n),[],l=0;case 3:if(!(l<a)){t.next=14;break}return c=O(r,n),s=v(c,n),(r=r.concat(s)).sort((function(t,e){return t.fitness<e.fitness?-1:t.fitness>e.fitness?1:0})),r=r.splice(0,i),t.next=11,{result:r[0],size:r.length,gen:l};case 11:l++,t.next=3;break;case 14:case"end":return t.stop()}}),t)})),m=n(3),w=function(t){return Object(m.jsxs)(s.a,{style:{padding:2,margin:"2px 0px 2px 0px"},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0,display:"flex",justifyContent:"flex-start",alignItems:"center"},children:Object(m.jsx)("input",{type:"range",min:t.min,max:t.max,value:t.value,step:t.step,onChange:function(e){e.preventDefault(),t.onChange(e.target.value)},style:{margin:0,padding:0,height:4}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600",display:"flex",justifyContent:"flex-start",alignItems:"center"},children:Object(m.jsx)("span",{children:"".concat(t.title," : ").concat(t.value)})})]})},C=function(t,e,n){for(var a=e.length,i=0;i<a;i++)t.beginPath(),t.arc(e[i].x,e[i].y,5,0,2*Math.PI),t.fillStyle=n,t.fill(),t.closePath()},S=function(t,e,n,a,i){null===t||void 0===t||t.clearRect(0,0,window.innerWidth-300,window.innerHeight);for(var r=n?n.length:0,l=0;l<r-1;l++)t.beginPath(),t.moveTo(e[n[l]].x,e[n[l]].y),t.lineTo(e[n[l+1]].x,e[n[l+1]].y),t.strokeStyle=a,t.stroke();C(t,e,i)},P=function(t){var e=Object(a.useState)(null),n=Object(c.a)(e,2),i=n[0],r=n[1],l=Object(a.useRef)(null),d=Object(a.useRef)(null),p=Object(a.useState)(null),f=Object(c.a)(p,2),x=f[0],j=f[1],g=Object(a.useState)("Paused"),b=Object(c.a)(g,2),O=b[0],v=b[1],P=Object(a.useState)(200),M=Object(c.a)(P,2),k=M[0],A=M[1],I=Object(a.useState)(20),W=Object(c.a)(I,2),z=W[0],E=W[1],F=Object(a.useState)(10),R=Object(c.a)(F,2),H=R[0],D=R[1],B=Object(a.useState)(10),T=Object(c.a)(B,2),G=T[0],J=T[1],L=Object(a.useState)(null),q=Object(c.a)(L,2),N=q[0],K=q[1],Q=Object(a.useState)(!0),U=Object(c.a)(Q,2),V=U[0],X=U[1],Y=Object(a.useState)("#9AFF6E"),Z=Object(c.a)(Y,2),$=Z[0],_=Z[1],tt=Object(a.useState)("#DA60FF"),et=Object(c.a)(tt,2),nt=et[0],at=et[1],it=Object(a.useState)(!1),rt=Object(c.a)(it,2);rt[0],rt[1];return Object(a.useEffect)((function(){j(y(G,d.current,z,H))}),[z,H]),Object(a.useEffect)((function(){if(l&&l.current&&V){X(!1);var t=document.getElementById("canvas").getContext("2d");d.current=function(t,e,n){for(var a=[],i=0;i<t;i++){var r=Math.round(Math.random()*(n-100))+50,l=Math.round(Math.random()*(e-100))+50;a.push({id:i,x:r,y:l})}return a}(G,window.innerHeight,window.innerWidth-300),null===t||void 0===t||t.clearRect(0,0,window.innerWidth-300,window.innerHeight),K(null),C(t,d.current,$),r(t),j(y(G,d.current,z,H))}}),[l,G,V]),Object(a.useEffect)((function(){var t;0===O.localeCompare("Paused")&&i&&S(i,d.current,null===N||void 0===N||null===(t=N.result)||void 0===t?void 0:t.path,nt,$)}),[$,nt]),Object(a.useEffect)((function(){if(null!=x&&0===O.localeCompare("Playing")){var t=setInterval((function(){var t=x.next();if(t.done)return v("Paused"),void j(y(G,d.current,z,H));var e=t.value;K(e),S(i,d.current,e.result.path,nt,$)}),k);return function(){clearInterval(t)}}}),[x,O,k,H,z,G,$,nt]),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsxs)("div",{style:{width:300,height:window.innerHeight,padding:4},children:[Object(m.jsxs)(s.a,{style:{padding:"2px 0px 2px 0px",margin:0},children:[Object(m.jsxs)(o.a,{style:{padding:2,margin:0,justifyContent:"flex-start",display:"flex"},children:[Object(m.jsx)(h.a,{variant:0===O.localeCompare("Playing")?"dark":"success",style:{padding:"2px 8px 2px 8px",margin:"0px 4px 0px 4px",boxShadow:"none",fontSize:12},onClick:function(t){t.preventDefault(),0===O.localeCompare("Playing")?v("Paused"):v("Playing")},children:0===O.localeCompare("Playing")?"Pause":"Play"}),Object(m.jsx)(h.a,{disabled:V,variant:0===O.localeCompare("Playing")?"dark":"success",style:{padding:"2px 8px 2px 8px",margin:"0px 4px 0px 4px",boxShadow:"none",fontSize:12},onClick:function(t){t.preventDefault(),X(!0)},children:"Restart"})]}),Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:N?Object(m.jsx)("span",{style:{fontSize:12,fontWeight:"500",textAlign:"right"},children:"Best distance : ".concat(Math.floor(N.result.fitness))}):null})]}),Object(m.jsx)("div",{style:{width:"100%",height:1,backgroundColor:"#989898"}}),Object(m.jsx)(s.a,{style:{padding:2,margin:"2px 0px 2px 0px"},children:Object(m.jsx)(o.a,{style:{padding:2,margin:0,display:"flex",justifyContent:"flex-start"},children:N?Object(m.jsx)("span",{style:{fontSize:12,fontWeight:"500",textAlign:"left"},children:"Generation covered : ".concat(Math.floor(N.gen))}):null})}),Object(m.jsx)(w,{min:0,max:2e4,step:10,title:"Generations",value:z,onChange:function(t){E(t)}}),Object(m.jsx)(w,{min:0,max:100,step:1,title:"Cities",value:G,onChange:function(t){J(t)}}),Object(m.jsx)(w,{min:10,max:100,step:1,title:"Initial population",value:H,onChange:function(t){D(t)}}),Object(m.jsx)(w,{min:50,max:2e3,step:10,title:"Speed",value:k,onChange:function(t){A(t)}}),Object(m.jsx)("div",{style:{width:"100%",height:1,backgroundColor:"#989898"}}),Object(m.jsxs)(s.a,{style:{padding:2,margin:"4px 0px 4px 0px",textAlign:"left",fontSize:12,fontWeight:"500",display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(m.jsx)("div",{style:{backgroundColor:$,width:10,height:10,margin:"0px 10px 0px 0px",borderRadius:5}}),Object(m.jsx)("span",{children:"City color"})]}),Object(m.jsx)(u.a,{width:"100%",color:$,triangle:"hide",onChangeComplete:function(t,e){_(t.hex)}}),Object(m.jsxs)(s.a,{style:{padding:2,margin:"2px 0px 4px 0px",textAlign:"left",fontSize:12,fontWeight:"500",display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(m.jsx)("div",{style:{backgroundColor:nt,width:10,height:10,margin:"0px 10px 0px 0px",borderRadius:5}}),Object(m.jsx)("span",{children:"Edge color"})]}),Object(m.jsx)(u.a,{width:"100%",triangle:"hide",color:nt,onChangeComplete:function(t,e){at(t.hex)}})]}),Object(m.jsx)("div",{style:{width:window.innerWidth-300,height:window.innerHeight},children:Object(m.jsx)("canvas",{id:"canvas",ref:l,width:window.innerWidth-300,height:window.innerHeight,style:{backgroundColor:"#222222"}})})]})};n(203);var M=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(P,{})})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,l=e.getTTFB;n(t),a(t),i(t),r(t),l(t)}))};l.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root")),k()},91:function(t,e,n){},92:function(t,e,n){}},[[204,1,2]]]);
//# sourceMappingURL=main.143ef484.chunk.js.map