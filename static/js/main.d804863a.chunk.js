(this.webpackJsonptsp=this.webpackJsonptsp||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),s=n.n(i),c=(n(19),n.p,n(20),n(3)),l=n(26),o=n(27),d=n(28),h=n(8),p=n(11),u=n.n(p),f=n(13),g=n(14),j=function(e,t){for(var n,a,r,i,s=0,c=0;c<t.path.length-1;c++){var l=e[t.path[c]],o=e[t.path[c+1]];s+=(n=l.x,a=l.y,r=o.x,i=o.y,Math.sqrt(Math.pow(n-r,2)+Math.pow(a-i,2)))}return s};function x(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e}var b=function(e,t,n){for(var a=[],r=0;r<e;r++){var i={path:x(Array.from({length:t-1},(function(e,t){return t+1}))),fitness:0};i.path.unshift(0),i.path.push(0),i.fitness=j(n,i),a.push(Object(g.a)({},i))}return a},O=function(e,t){for(var n=[],a=(e=x(e)).length,r=0;r<a/2;r++){var i=e[r],s=e[a-r-1],c=i.path.length,l=new Array(i.path.length).fill(-1),o=x(Array.from({length:c-2},(function(e,t){return t+1})));(o=o.slice(o.length/2)).sort();for(var d=Array(c).fill(!1),h=1;h<o.length;h++)l[o[h]]=i.path[o[h]],d[i.path[o[h]]]=!0;for(var p=0,u=0;u<c-1;)-1===l[u]?(d[s.path[p]]||(l[u]=s.path[p],u++),p++):u++;l[c-1]=0;var f={path:l,fitness:0};f.fitness=j(t,f),n.push(f)}return n},v=function(e,t){for(var n=[],a=e.length,r=0;r<a;r++)n.push({path:Object(f.a)(e[r].path),fitness:0});for(var i=0;i<a;i++){var s=n[i].path.length,c=Math.floor(Math.random()*(s-3))+1,l=Math.floor(Math.random()*(s-3))+1,o=n[i].path[c];n[i].path[c]=n[i].path[l],n[i].path[l]=o,n[i].fitness=j(t,n[i])}return n},y=u.a.mark((function e(t,n,a,r){var i,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=b(r,t,n),[],s=0;case 3:if(!(s<a)){e.next=14;break}return c=O(i,n),l=v(c,n),(i=i.concat(l)).sort((function(e,t){return e.fitness<t.fitness?-1:e.fitness>t.fitness?1:0})),i=i.splice(0,r),e.next=11,{result:i[0],size:i.length};case 11:s++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})),m=n(1),w=function(e,t){for(var n=t.length,a=0;a<n;a++)e.beginPath(),e.arc(t[a].x,t[a].y,10,0,2*Math.PI),e.fillStyle="#FF0000",e.fill(),e.closePath(),e.font="8pt Calibri",e.fillStyle="white",e.textAlign="center",e.fillText(a.toString(),t[a].x-.5,t[a].y+3)},S=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),r=n[0],i=n[1],s=Object(a.useRef)(null),p=Object(a.useRef)(null),u=Object(a.useState)(null),f=Object(c.a)(u,2),g=f[0],j=f[1],x=Object(a.useState)("Paused"),b=Object(c.a)(x,2),O=b[0],v=b[1],S=Object(a.useState)(200),C=Object(c.a)(S,2),M=C[0],P=C[1],R=Object(a.useState)(20),I=Object(c.a)(R,2),k=I[0],W=I[1],F=Object(a.useState)(10),z=Object(c.a)(F,2),A=z[0],D=z[1],H=Object(a.useState)(10),E=Object(c.a)(H,2),T=E[0],B=E[1],J=Object(a.useState)(null),L=Object(c.a)(J,2),q=L[0],G=L[1],N=Object(a.useState)(!0),K=Object(c.a)(N,2),Q=K[0];K[1];return Object(a.useEffect)((function(){j(y(T,p.current,k,A))}),[k,A]),Object(a.useEffect)((function(){if(s&&s.current&&Q){var e=document.getElementById("canvas").getContext("2d");p.current=function(e,t,n){for(var a=[],r=0;r<e;r++){var i=Math.round(Math.random()*(n-100))+50,s=Math.round(Math.random()*(t-100))+50;a.push({id:r,x:i,y:s})}return a}(T,window.innerHeight,window.innerWidth-300),null===e||void 0===e||e.clearRect(0,0,window.innerWidth-300,window.innerHeight),w(e,p.current),i(e),j(y(T,p.current,k,A))}}),[s,T,Q]),Object(a.useEffect)((function(){if(null!=g&&0===O.localeCompare("Playing")){var e=setInterval((function(){var e=g.next();if(e.done)return v("Paused"),void j(y(T,p.current,k,A));var t=e.value;G(t),function(e,t,n){null===e||void 0===e||e.clearRect(0,0,window.innerWidth-300,window.innerHeight);for(var a=n.length,r=0;r<a-1;r++)e.beginPath(),e.moveTo(t[n[r]].x,t[n[r]].y),e.lineTo(t[n[r+1]].x,t[n[r+1]].y),e.strokeStyle="#40FF00",e.stroke();w(e,t)}(r,p.current,t.result.path)}),M);return function(){clearInterval(e)}}}),[g,O,M,A,k,T]),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsxs)("div",{style:{width:300,height:window.innerHeight,padding:4},children:[Object(m.jsxs)(l.a,{style:{padding:"2px 0px 2px 0px",margin:0},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0,justifyContent:"flex-start",display:"flex"},children:Object(m.jsx)(d.a,{variant:0===O.localeCompare("Playing")?"dark":"success",style:{padding:"2px 8px 2px 8px",boxShadow:"none",fontSize:12},onClick:function(e){e.preventDefault(),0===O.localeCompare("Playing")?v("Paused"):v("Playing")},children:0===O.localeCompare("Playing")?"Pause":"Play"})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:q?Object(m.jsx)("span",{style:{fontSize:12,fontWeight:"500",textAlign:"right"},children:"Best distance : ".concat(Math.floor(q.result.fitness))}):null})]}),Object(m.jsxs)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px",border:"1px solid #676767",borderRadius:4},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:Object(m.jsx)(h.RangeStepInput,{min:100,max:2e3,value:M,step:100,onChange:function(e){e.preventDefault(),P(e.target.value)},style:{margin:0,padding:0}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600"},children:Object(m.jsx)("span",{children:"Speed : ".concat(M)})})]}),Object(m.jsxs)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px",border:"1px solid #676767",borderRadius:4},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:Object(m.jsx)(h.RangeStepInput,{min:5,max:100,value:A,step:1,onChange:function(e){e.preventDefault(),D(e.target.value)},style:{margin:0,padding:0}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600"},children:Object(m.jsx)("span",{children:"Initial population : ".concat(A)})})]}),Object(m.jsxs)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px",border:"1px solid #676767",borderRadius:4},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:Object(m.jsx)(h.RangeStepInput,{min:1,max:2e3,value:k,step:1,onChange:function(e){e.preventDefault(),W(e.target.value)},style:{margin:0,padding:0}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600"},children:Object(m.jsx)("span",{children:"Generations : ".concat(k)})})]}),Object(m.jsxs)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px",border:"1px solid #676767",borderRadius:4},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:Object(m.jsx)(h.RangeStepInput,{min:1,max:40,value:T,step:1,onChange:function(e){e.preventDefault(),B(e.target.value)},style:{margin:0,padding:0}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600"},children:Object(m.jsx)("span",{children:"Cities : ".concat(T)})})]})]}),Object(m.jsx)("div",{style:{width:window.innerWidth-300,height:window.innerHeight},children:Object(m.jsx)("canvas",{id:"canvas",ref:s,width:window.innerWidth-300,height:window.innerHeight,style:{backgroundColor:"#222222"}})})]})};n(23);var C=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(S,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),M()}},[[24,1,2]]]);
//# sourceMappingURL=main.d804863a.chunk.js.map