(this.webpackJsonptsp=this.webpackJsonptsp||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(12),c=n.n(i),s=(n(19),n.p,n(20),n(3)),l=n(26),o=n(27),d=n(28),p=n(8),h=n(11),u=n.n(h),g=n(13),f=n(14),j=function(e,t){for(var n,a,r,i,c=0,s=0;s<t.path.length-1;s++){var l=e[t.path[s]],o=e[t.path[s+1]];c+=(n=l.x,a=l.y,r=o.x,i=o.y,Math.sqrt(Math.pow(n-r,2)+Math.pow(a-i,2)))}return c};function x(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e}var b=function(e,t,n){for(var a=[],r=0;r<e;r++){var i={path:x(Array.from({length:t-1},(function(e,t){return t+1}))),fitness:0};i.path.unshift(0),i.path.push(0),i.fitness=j(n,i),a.push(Object(f.a)({},i))}return a},O=function(e,t){for(var n=[],a=(e=x(e)).length,r=0;r<a/2;r++){var i=e[r],c=e[a-r-1],s=i.path.length,l=new Array(i.path.length).fill(-1),o=x(Array.from({length:s-2},(function(e,t){return t+1})));(o=o.slice(o.length/2)).sort();for(var d=Array(s).fill(!1),p=1;p<o.length;p++)l[o[p]]=i.path[o[p]],d[i.path[o[p]]]=!0;for(var h=0,u=0;u<s-1;)-1===l[u]?(d[c.path[h]]||(l[u]=c.path[h],u++),h++):u++;l[s-1]=0;var g={path:l,fitness:0};g.fitness=j(t,g),n.push(g)}return n},v=function(e,t){for(var n=[],a=e.length,r=0;r<a;r++)n.push({path:Object(g.a)(e[r].path),fitness:0});for(var i=0;i<a;i++){var c=n[i].path.length,s=Math.floor(Math.random()*(c-3))+1,l=Math.floor(Math.random()*(c-3))+1,o=n[i].path[s];n[i].path[s]=n[i].path[l],n[i].path[l]=o,n[i].fitness=j(t,n[i])}return n},y=u.a.mark((function e(t,n,a,r){var i,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=b(r,t,n),[],c=0;case 3:if(!(c<a)){e.next=14;break}return s=O(i,n),l=v(s,n),(i=i.concat(l)).sort((function(e,t){return e.fitness<t.fitness?-1:e.fitness>t.fitness?1:0})),i=i.splice(0,r),e.next=11,{result:i[0],size:i.length,gen:c};case 11:c++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})),m=n(0),w=function(e,t){for(var n=t.length,a=0;a<n;a++)e.beginPath(),e.arc(t[a].x,t[a].y,5,0,2*Math.PI),e.fillStyle="#FF6868",e.fill(),e.closePath()},S=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),r=n[0],i=n[1],c=Object(a.useRef)(null),h=Object(a.useRef)(null),u=Object(a.useState)(null),g=Object(s.a)(u,2),f=g[0],j=g[1],x=Object(a.useState)("Paused"),b=Object(s.a)(x,2),O=b[0],v=b[1],S=Object(a.useState)(200),M=Object(s.a)(S,2),C=M[0],P=M[1],R=Object(a.useState)(20),I=Object(s.a)(R,2),W=I[0],k=I[1],z=Object(a.useState)(10),F=Object(s.a)(z,2),A=F[0],D=F[1],H=Object(a.useState)(10),E=Object(s.a)(H,2),B=E[0],T=E[1],G=Object(a.useState)(null),J=Object(s.a)(G,2),L=J[0],q=J[1],N=Object(a.useState)(!0),K=Object(s.a)(N,2),Q=K[0];K[1];return Object(a.useEffect)((function(){j(y(B,h.current,W,A))}),[W,A]),Object(a.useEffect)((function(){if(c&&c.current&&Q){var e=document.getElementById("canvas").getContext("2d");h.current=function(e,t,n){for(var a=[],r=0;r<e;r++){var i=Math.round(Math.random()*(n-100))+50,c=Math.round(Math.random()*(t-100))+50;a.push({id:r,x:i,y:c})}return a}(B,window.innerHeight,window.innerWidth-300),null===e||void 0===e||e.clearRect(0,0,window.innerWidth-300,window.innerHeight),w(e,h.current),i(e),j(y(B,h.current,W,A))}}),[c,B,Q]),Object(a.useEffect)((function(){if(null!=f&&0===O.localeCompare("Playing")){var e=setInterval((function(){var e=f.next();if(e.done)return v("Paused"),void j(y(B,h.current,W,A));var t=e.value;q(t),function(e,t,n){null===e||void 0===e||e.clearRect(0,0,window.innerWidth-300,window.innerHeight);for(var a=n.length,r=0;r<a-1;r++)e.beginPath(),e.moveTo(t[n[r]].x,t[n[r]].y),e.lineTo(t[n[r+1]].x,t[n[r+1]].y),e.strokeStyle="#40FF00",e.stroke();w(e,t)}(r,h.current,t.result.path)}),C);return function(){clearInterval(e)}}}),[f,O,C,A,W,B]),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsxs)("div",{style:{width:300,height:window.innerHeight,padding:4},children:[Object(m.jsxs)(l.a,{style:{padding:"2px 0px 2px 0px",margin:0},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0,justifyContent:"flex-start",display:"flex"},children:Object(m.jsx)(d.a,{variant:0===O.localeCompare("Playing")?"dark":"success",style:{padding:"2px 8px 2px 8px",boxShadow:"none",fontSize:12},onClick:function(e){e.preventDefault(),0===O.localeCompare("Playing")?v("Paused"):v("Playing")},children:0===O.localeCompare("Playing")?"Pause":"Play"})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:L?Object(m.jsx)("span",{style:{fontSize:12,fontWeight:"500",textAlign:"right"},children:"Best distance : ".concat(Math.floor(L.result.fitness))}):null})]}),Object(m.jsx)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px"},children:Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:L?Object(m.jsx)("span",{style:{fontSize:12,fontWeight:"500",textAlign:"left"},children:"Generation covered : ".concat(Math.floor(L.gen))}):null})}),Object(m.jsxs)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px",border:"1px solid #676767",borderRadius:4},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:Object(m.jsx)(p.RangeStepInput,{min:50,max:2e3,value:C,step:50,onChange:function(e){e.preventDefault(),P(e.target.value)},style:{margin:0,padding:0}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600"},children:Object(m.jsx)("span",{children:"Speed : ".concat(C)})})]}),Object(m.jsxs)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px",border:"1px solid #676767",borderRadius:4},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:Object(m.jsx)(p.RangeStepInput,{min:5,max:100,value:A,step:1,onChange:function(e){e.preventDefault(),D(e.target.value)},style:{margin:0,padding:0}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600"},children:Object(m.jsx)("span",{children:"Initial population : ".concat(A)})})]}),Object(m.jsxs)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px",border:"1px solid #676767",borderRadius:4},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:Object(m.jsx)(p.RangeStepInput,{min:1,max:1e5,value:W,step:1,onChange:function(e){e.preventDefault(),k(e.target.value)},style:{margin:0,padding:0}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600"},children:Object(m.jsx)("span",{children:"Generations : ".concat(W)})})]}),Object(m.jsxs)(l.a,{style:{padding:2,margin:"2px 0px 2px 0px",border:"1px solid #676767",borderRadius:4},children:[Object(m.jsx)(o.a,{style:{padding:2,margin:0},children:Object(m.jsx)(p.RangeStepInput,{min:1,max:1e3,value:B,step:1,onChange:function(e){e.preventDefault(),T(e.target.value)},style:{margin:0,padding:0}})}),Object(m.jsx)(o.a,{style:{padding:2,margin:0,fontSize:12,fontWeight:"600"},children:Object(m.jsx)("span",{children:"Cities : ".concat(B)})})]})]}),Object(m.jsx)("div",{style:{width:window.innerWidth-300,height:window.innerHeight},children:Object(m.jsx)("canvas",{id:"canvas",ref:c,width:window.innerWidth-300,height:window.innerHeight,style:{backgroundColor:"#222222"}})})]})};n(23);var M=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(S,{})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root")),C()}},[[24,1,2]]]);
//# sourceMappingURL=main.ceda2c69.chunk.js.map